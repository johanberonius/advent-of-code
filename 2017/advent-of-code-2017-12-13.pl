#!/usr/bin/perl
use strict;
use List::Util qw(max);

my %d = (0 => 4, 1 => 2, 2 => 3, 4 => 4, 6 => 6, 8 => 5, 10 => 6, 12 => 6, 14 => 6, 16 => 12, 18 => 8, 20 => 9, 22 => 8, 24 => 8, 26 => 8, 28 => 8, 30 => 12, 32 => 10, 34 => 8, 36 => 12, 38 => 10, 40 => 12, 42 => 12, 44 => 12, 46 => 12, 48 => 12, 50 => 14, 52 => 14, 54 => 12, 56 => 12, 58 => 14, 60 => 14, 62 => 14, 66 => 14, 68 => 14, 70 => 14, 72 => 14, 74 => 14, 78 => 18, 80 => 14, 82 => 14, 88 => 18, 92 => 17);
my @d = sort { $a <=> $b } keys %d;
my $m = max @d;
my $p = -1;
my $s = 0;
my %p;
my %i;

while (++$p < $m) {
    $s += $p * $d{$p} if $d{$p} && $p{$p} == 0;
    for my $d (@d) {
        $p{$d} += $i{$d} ||= 1;
        $i{$d} = 1 if $p{$d} == 0;
        $i{$d} = -1 if $p{$d} == $d{$d} - 1;
    }
}

print "Number of layers: ", 0+@d, "\n";
print "Max layer depth: $m\n";
print "Total severity: $s\n";
