#!/usr/bin/perl
use strict;

my $n = 99_999_999_999_999;
while (1) {
    last if valid($n);
    unless ($n % 100_000) {
        print "$n\n";
    }
    $n--;
}
print "$n is valid.\n";

sub valid {
    my @i = split '', shift;
    my ($w, $x, $y, $z);

    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 13;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 14;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 12;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 8;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 11;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 5;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += 0;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 4;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 15;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 10;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += -13;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 13;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 10;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 16;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += -9;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 5;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 11;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 6;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 1);
    $x += 13;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 13;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += -14;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 6;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += -3;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 7;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += -2;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 13;
    $y *= $x;
    $z += $y;
    $w = shift @i;
    $x *= 0;
    $x += $z;
    $x %= 26;
    $z = int($z / 26);
    $x += -14;
    $x = $x == $w || 0;
    $x = $x == 0 || 0;
    $y *= 0;
    $y += 25;
    $y *= $x;
    $y += 1;
    $z *= $y;
    $y *= 0;
    $y += $w;
    $y += 3;
    $y *= $x;
    $z += $y;

    return !$z;
}
